(function(e){function t(t){for(var n,s,a=t[0],o=t[1],c=t[2],d=0,f=[];d<a.length;d++)s=a[d],l[s]&&f.push(l[s][0]),l[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,a=1;a<i.length;a++){var o=i[a];0!==l[o]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},l={app:0},r=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=o;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("64a9"),l=i.n(n);l.a},"3c50":function(e,t,i){"use strict";var n=i("4252"),l=i.n(n);l.a},4252:function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("files-list",{attrs:{id:"filesList",files:e.files},on:{selectFile:e.switchWorkspace,deleteFile:e.deleteFile,addFile:e.addFile}}),i("workspace",{attrs:{file:e.currentFile},on:{saveFile:e.saveFile}})],1)},r=[],s=(i("7f7f"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"filesList"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newFileName,expression:"newFileName"}],attrs:{type:"text",placeholder:"Имя файла"},domProps:{value:e.newFileName},on:{input:function(t){t.target.composing||(e.newFileName=t.target.value)}}}),i("button",{on:{click:e.addFile}},[e._v("Добавить файл")]),e._l(e.files,function(t){return i("file",{key:t.id,attrs:{file:t},on:{deleteFile:e.deleteFile},nativeOn:{click:function(i){return e.selectFile(t)}}})})],2)}),a=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["file",e.file.modified?"modified":""]},[i("div",{staticClass:"fileName"},[e._v(e._s(e.file.title))]),i("div",{staticClass:"date"},[e._v("Создан: "+e._s(e.createdDateString))]),i("div",{staticClass:"date"},[e._v("Изменен: "+e._s(e.lastModifiedDateString))]),i("div",{staticClass:"deleteButton",on:{click:function(t){return t.stopPropagation(),e.deleteFile(t)}}},[e._v("Удалить")])])},c=[],u={name:"File",props:{file:Object},methods:{deleteFile:function(){this.$emit("deleteFile",this.file)}},computed:{createdDateString:function(){return this.file.createdDate.toLocaleString()},lastModifiedDateString:function(){return this.file.lastModifiedDate.toLocaleString()}}},d=u,f=(i("3c50"),i("2877")),p=Object(f["a"])(d,o,c,!1,null,"6929f2da",null),v=p.exports,h={name:"FilesList",components:{File:v},data:function(){return{newFileName:null}},props:{files:Array},methods:{addFile:function(){this.newFileName&&this.$emit("addFile",{name:this.newFileName}),this.newFileName=null},deleteFile:function(e){null!=e&&this.$emit("deleteFile",e)},selectFile:function(e){this.$emit("selectFile",e)}}},m=h,F=(i("c4d5"),Object(f["a"])(m,s,a,!1,null,"686d43d7",null)),g=F.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"workspace"},[null==e.file?i("div",{staticClass:"stub"},[e._v("\n        Создайте или выберите файл для просмотра\n    ")]):null!=e.file?i("div",{staticClass:"actualWorkspace"},[i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[e._v(e._s(e.file.title))]),i("div",{staticClass:"date"},[e._v("Создан: "+e._s(e.createdDateString))]),i("div",{staticClass:"date"},[e._v("Изменен: "+e._s(e.lastModifiedDateString))]),i("div",{directives:[{name:"show",rawName:"v-show",value:this.file.modified,expression:"this.file.modified"}],staticClass:"linkBtn",on:{click:function(t){return t.stopPropagation(),e.saveFile(t)}}},[e._v("Сохранить\n            ")])]),i("div",{staticClass:"editor"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentFile.content,expression:"currentFile.content"}],staticClass:"left",domProps:{value:e.currentFile.content},on:{input:[function(t){t.target.composing||e.$set(e.currentFile,"content",t.target.value)},function(t){return t.stopPropagation(),e.setModified(t)}]}}),i("div",{staticClass:"right",domProps:{innerHTML:e._s(e.compiledMarkdown)}})])]):e._e()])},_=[],b=i("0e54"),k={name:"Workspace",props:{file:Object},data:function(){return{currentFile:this.file}},methods:{saveFile:function(){this.$emit("saveFile",this.currentFile)},setModified:function(){void 0!==this.currentFile&&(this.currentFile.modified=!0)}},computed:{createdDateString:function(){if(null!=this.currentFile)return this.currentFile.createdDate.toLocaleString()},lastModifiedDateString:function(){if(null!=this.currentFile)return this.currentFile.lastModifiedDate.toLocaleString()},compiledMarkdown:function(){if(null!=this.currentFile)return b(this.currentFile.content)}},watch:{file:function(e){this.currentFile=e}}},y=k,x=(i("e025"),Object(f["a"])(y,w,_,!1,null,"746743e1",null)),S=x.exports,C={name:"app",components:{FilesList:g,Workspace:S},data:function(){return{files:[],currentFile:null,nextId:10}},methods:{saveFile:function(e){e.modified=!1},addFile:function(e){var t={id:this.nextId++,title:e.name,createdDate:new Date,lastModifiedDate:new Date,content:"",cache:"no-cache",modified:!0};this.files.push(t),this.switchWorkspace(t)},deleteFile:function(e){for(var t=0;t<this.files.length;t++)if(this.files[t].id===e.id){null!=this.currentFile&&this.files[t].id===this.currentFile.id&&this.switchWorkspace(null),this.files.splice(t,1);break}},switchWorkspace:function(e){this.currentFile=e}}},D=C,M=(i("034f"),Object(f["a"])(D,l,r,!1,null,null,null)),O=M.exports;n["a"].config.productionTip=!1;new n["a"]({render:function(e){return e(O)}}).$mount("#app")},"64a9":function(e,t,i){},c142:function(e,t,i){},c4d5:function(e,t,i){"use strict";var n=i("e655"),l=i.n(n);l.a},e025:function(e,t,i){"use strict";var n=i("c142"),l=i.n(n);l.a},e655:function(e,t,i){}});
//# sourceMappingURL=app.6cbe7e33.js.map